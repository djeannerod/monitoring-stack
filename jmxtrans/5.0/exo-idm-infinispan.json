{
  "servers": [
    {
      "port": "${TARGET_JMX_PORT}",
      "host": "${TARGET_JMX_HOST}",
      "queries": [
        {
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
              "url": "${TARGET_INFLUXDB_URL}",
              "database": "${TARGET_INFLUXDB_DATABASE}",
              "createDatabase": "${TARGET_INFLUXDB_CREATE_DB}",
              "retentionPolicy": "${TARGET_INFLUXDB_RETENTION_POLICY}",
              "username": "${TARGET_INFLUXDB_USERNAME}",
              "password": "${TARGET_INFLUXDB_PASSWORD}",
              "tags": {
                "host": "${TARGET_HOSTNAME}",
                "node": "${TARGET_NODE_ID}"
              }
            }
          ],
          "obj": "org.infinispan.plidm:type=Cache,name=*,manager=*,component=Statistics",
          "resultAlias": "exo_idm_infinispan",
          "attr": [
            "hitRatio",
            "hits",
            "misses",
            "numberOfEntries",
            "stores",
            "readWriteRatio",
            "removeHits",
            "removeMisses",
            "evictions",
            "averageReadTime",
            "averageWriteTime",
            "elapsedTime",
            "timeSinceReset"
          ]
        },
        {
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
              "url": "${TARGET_INFLUXDB_URL}",
              "database": "${TARGET_INFLUXDB_DATABASE}",
              "createDatabase": "${TARGET_INFLUXDB_CREATE_DB}",
              "retentionPolicy": "${TARGET_INFLUXDB_RETENTION_POLICY}",
              "username": "${TARGET_INFLUXDB_USERNAME}",
              "password": "${TARGET_INFLUXDB_PASSWORD}",
              "tags": {
                "host": "${TARGET_HOSTNAME}",
                "node": "${TARGET_NODE_ID}"
              }
            }
          ],
          "obj": "org.infinispan.plidm:type=Cache,name=*,manager=*,component=RpcManager",
          "resultAlias": "exo_idm_ispn_rpc",
          "attr": [
            "replicationCount",
            "replicationFailures"
          ]
        },
        {
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
              "url": "${TARGET_INFLUXDB_URL}",
              "database": "${TARGET_INFLUXDB_DATABASE}",
              "createDatabase": "${TARGET_INFLUXDB_CREATE_DB}",
              "retentionPolicy": "${TARGET_INFLUXDB_RETENTION_POLICY}",
              "username": "${TARGET_INFLUXDB_USERNAME}",
              "password": "${TARGET_INFLUXDB_PASSWORD}",
              "tags": {
                "host": "${TARGET_HOSTNAME}",
                "node": "${TARGET_NODE_ID}"
              }
            }
          ],
          "obj": "org.infinispan.plidm:type=channel,cluster=*",
          "resultAlias": "exo_idm_ispn_channel",
          "attr": [
            "received_bytes",
            "received_messages"
          ]
        },
        {
          "outputWriters": [
            {
              "@class": "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
              "url": "${TARGET_INFLUXDB_URL}",
              "database": "${TARGET_INFLUXDB_DATABASE}",
              "createDatabase": "${TARGET_INFLUXDB_CREATE_DB}",
              "retentionPolicy": "${TARGET_INFLUXDB_RETENTION_POLICY}",
              "username": "${TARGET_INFLUXDB_USERNAME}",
              "password": "${TARGET_INFLUXDB_PASSWORD}",
              "tags": {
                "host": "${TARGET_HOSTNAME}",
                "node": "${TARGET_NODE_ID}"
              }
            }
          ],
          "obj": "org.infinispan.plidm:type=protocol,cluster=*,protocol=TCP",
          "resultAlias": "exo_idm_ispn_protocol",
          "attr": [
            "oob_pool_size",
            "oob_queue_size",
            "regular_pool_size",
            "regular_queue_size",
            "open_connections"
          ]
        }
      ],
      "numQueryThreads": 1
    }
  ]
}